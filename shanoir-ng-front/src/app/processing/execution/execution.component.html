<form *ngIf="pipeline" [formGroup]="executionForm" (ngSubmit)="onSubmitExecutionForm()">
    <legend>{{pipeline.name}}</legend>

    <div>
        <label for="execution_name">Execution Name *</label>
        <input type="text" id="execution_name" formControlName="execution_name" required>
    </div>
    
    <div> Default execution parameters: please choose default parameters value for every parameter.<br/></div>
    <div> You will be able to check every execution parameters in the following table.<br/></div>
    <div> Please note that for file, the text box is used for regular expression if you want to organize dataset in different arguments </div>

    <div *ngFor="let parameter of pipeline.parameters">
        <div *ngIf="parameter.name != 'executable'">
             <label>{{parameter.name}}{{!parameter.isOptional && parameter.type != 'Boolean' ? '*' : ''}} <tool-tip> {{parameter.description}} </tool-tip></label>
             <input *ngIf="!isAFile(parameter.type) && parameter.type != 'Boolean'" formControlName="{{parameter.name}}" name="{{parameter.name}}" id="{{parameter.name}}">
             <span *ngIf="parameter.type == 'Boolean'">
                 <checkbox formControlName="{{parameter.name}}" id="{{parameter.name}}"></checkbox>
             </span>
             <span *ngIf="isAFile(parameter.type)">
                 <input *ngIf="isAFile(parameter.type)"
                    formControlName="{{parameter.name}}" name="{{parameter.name}}" id="{{parameter.name}}">
                 <ng-template #loading>Loading datasets...</ng-template>
             </span>
	   </div>
    </div>
    
    <button type='button' (click)="onApplyParameters()" [disabled]="!executionForm.valid">Apply</button>
    
    <div [hidden]="!parametersApplied">
    <legend> List of executions: </legend>
    </div>
    <div [hidden]="!parametersApplied">
    <shanoir-table #executionsTable
                [getPage]="getPage.bind(this)" 
                [editMode]="true"
                [customActionDefs]="customActionDefs"
                [columnDefs]="columnDefs"
                [browserSearch]="false">
    </shanoir-table>
    </div>
    <div [hidden]="!parametersApplied">
    <button type="submit" [disabled]="!allExecsValid">Run all</button>
    </div>
</form>
