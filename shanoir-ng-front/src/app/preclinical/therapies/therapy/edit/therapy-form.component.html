<div class="TherapyFormComponent content-component">
    <form *ngIf="form"  [formGroup]="form" class="max-content" novalidate>
		<table class="layout">
			<tr><td colspan="2">
				<span class="right-col" [ngSwitch]="mode">
					<ng-template [ngSwitchCase]="'view'"> 
						<div class="header command-zone" i18n="View therapy|Title">View therapy</div>
					</ng-template>
					<ng-template [ngSwitchCase]="'edit'"> 
						<div class="header command-zone" i18n="Edit therapy|Title">Edit therapy</div>
					</ng-template>
					<ng-template [ngSwitchCase]="'create'"> 
						<div class="header command-zone" i18n="Create therapy|Title">Add therapy</div>
					</ng-template>
				</span>
			</td></tr>
			<tr>
				<td>
					<fieldset>
					<ol>
						<label *ngIf="isTherapyUnique==false" class="form-validation-alert" i18n="Edit therapy|TherapyUniqueError label">This therapy already exists!</label>
						<li class="required">
							<label i18n="Edit therapy|Name label" class="required-label">Name</label>
							<span class="right-col" [ngSwitch]="mode">
								<ng-template [ngSwitchCase]="'view'"> 
										{{therapy?.name}}
								</ng-template>
								<ng-template ngSwitchDefault>
									<input type="text" id="name" formControlName="name" [(ngModel)]="therapy.name"/>
									<label *ngIf="hasError('name', ['required'])" [@slideDown]="hasError('name', ['required'])" class="form-validation-alert" i18n="Edit therapy|Name required error@@therapyDetailNameRequiredError">Name is required!</label>
								</ng-template>
							</span>
						</li>
						<li class="required">
							<label i18n="Edit therapy|Location label" class="required-label">Type</label>
							<span class="right-col" [ngSwitch]="mode">
								<ng-template [ngSwitchCase]="'view'">
										{{enumUtils.getEnumValue(therapyTypes,therapy.therapyType)}}
								</ng-template>
								<ng-template ngSwitchDefault>
									<select id="therapyType" required formControlName="therapyType" [(ngModel)]="therapy.therapyType">
										<option *ngFor="let therapyType of therapyTypes" [value]="therapyType.key">{{therapyType.value}}</option>
									</select>
									<label *ngIf="hasError('therapyType', ['required'])" [@slideDown]="hasError('therapyType', ['required'])" class="form-validation-alert" i18n="Edit therapy|therapyType required error@@therapyDetailTherapyTypeRequiredError">Type is required!</label>
								</ng-template>
							</span>
						</li>
						<li class="required">
							<label i18n="Edit therapy|Comment label">Comment</label>
							<span class="right-col" [ngSwitch]="mode">
								<ng-template [ngSwitchCase]="'view'"> 
										{{therapy?.comment}}
								</ng-template>
								<ng-template ngSwitchDefault>
									<textarea rows="4" id="comment" formControlName="comment" [(ngModel)]="therapy.comment"></textarea>
								</ng-template>
							</span>
							
						</li>
					</ol>
					</fieldset>
				</td>				
			</tr>
		</table>
		<form-footer
				[state]="footerState"
				(save)="save()"
				(edit)="goToEdit()"
				(cancel)="goToView()"
				(back)="goBack()">
		</form-footer>
    </form>
</div>